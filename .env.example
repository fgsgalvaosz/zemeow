# ========================================
# ZeMeow WhatsApp API - Configuração
# ========================================
# Copie este arquivo para .env e ajuste os valores conforme seu ambiente
# Para produção: use senhas fortes e configure SSL

# ========================================
# CONFIGURAÇÕES DO BANCO DE DADOS
# ========================================
# Desenvolvimento: localhost | Produção: postgres (nome do container)
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=your_database_name
POSTGRES_USER=your_db_user
# ⚠️ PRODUÇÃO: Use senha forte!
POSTGRES_PASSWORD=your_secure_password
# Desenvolvimento: disable | Produção: require
POSTGRES_SSLMODE=disable
# Opcional: URL completa do banco (se não definida, será construída automaticamente)
# DATABASE_URL=postgres://user:password@host:port/database?sslmode=disable

# Pool de Conexões do Banco
DATABASE_MAX_OPEN_CONNS=50
DATABASE_MAX_IDLE_CONNS=10
DATABASE_CONN_MAX_LIFETIME=15m
DATABASE_CONN_MAX_IDLE_TIME=5m

# ========================================
# CONFIGURAÇÕES DO SERVIDOR
# ========================================
# Para desenvolvimento: 0.0.0.0 ou localhost
# Para produção: seu domínio (ex: api.seudominio.com)
SERVER_HOST=0.0.0.0
SERVER_PORT=8080
# Valores: development | production
ENVIRONMENT=development
# Timeouts do servidor
SERVER_READ_TIMEOUT=30s
SERVER_WRITE_TIMEOUT=30s
SERVER_IDLE_TIMEOUT=60s

# ========================================
# AUTENTICAÇÃO
# ========================================
# ⚠️ PRODUÇÃO: Use uma chave forte e única!
ADMIN_API_KEY=my-super-secret-api-key

# ========================================
# WHATSAPP
# ========================================
WHATSAPP_TIMEOUT=30s
WHATSAPP_RECONNECT_INTERVAL=5s
QR_CODE_TIMEOUT=60s

# ========================================
# LOGGING
# ========================================
# Níveis: debug, info, warn, error
LOG_LEVEL=info
# Desenvolvimento: true | Produção: false (JSON estruturado)
LOG_PRETTY=true

# ========================================
# WEBHOOKS
# ========================================
WEBHOOK_TIMEOUT=10s
WEBHOOK_RETRY_COUNT=3
WEBHOOK_RETRY_INTERVAL=5s

# ========================================
# MINIO (ARMAZENAMENTO DE MÍDIAS)
# ========================================
# Desenvolvimento: localhost:9000 | Produção: minio:9000
MINIO_ENDPOINT=localhost:9000
# ⚠️ PRODUÇÃO: Use credenciais fortes!
MINIO_ACCESS_KEY=your_minio_access_key
MINIO_SECRET_KEY=your_minio_secret_key
MINIO_BUCKET_NAME=your-media-bucket
MINIO_USE_SSL=false
MINIO_REGION=us-east-1
# URL pública para acesso às mídias (opcional)
MINIO_PUBLIC_URL=

# ========================================
# DOCKER COMPOSE - PORTAS DOS SERVIÇOS
# ========================================
# Ajuste conforme necessário para evitar conflitos de porta
API_PORT=8080
POSTGRES_PORT=5432
REDIS_PORT=6379
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001
DBGATE_PORT=3000

# ========================================
# CONFIGURAÇÕES PARA DOCKER COMPOSE
# ========================================
# Senhas para os serviços Docker
POSTGRES_DB=your_database_name
POSTGRES_USER=your_db_user
POSTGRES_PASSWORD=your_secure_db_password
REDIS_PASSWORD=your_redis_password
MINIO_ROOT_USER=your_minio_user
MINIO_ROOT_PASSWORD=your_minio_password

# URLs MinIO (para produção com domínios próprios)
# MINIO_BROWSER_REDIRECT_URL=https://minio.yourdomain.com
# MINIO_SERVER_URL=https://s3.yourdomain.com

# ========================================
# CONFIGURAÇÕES AVANÇADAS (OPCIONAIS)
# ========================================
# Descomente e ajuste conforme necessário

# Para produção - Pool de conexões maior
# DATABASE_MAX_OPEN_CONNS=100
# DATABASE_MAX_IDLE_CONNS=25
# DATABASE_CONN_MAX_LIFETIME=30m

# Para produção - Timeouts maiores
# SERVER_READ_TIMEOUT=60s
# SERVER_WRITE_TIMEOUT=60s
# SERVER_IDLE_TIMEOUT=120s

# Para produção - Logging otimizado
# LOG_LEVEL=warn
# LOG_PRETTY=false

# Para produção - Webhooks mais robustos
# WEBHOOK_TIMEOUT=30s
# WEBHOOK_RETRY_COUNT=5
# WHATSAPP_TIMEOUT=60s